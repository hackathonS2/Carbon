{% extends 'base.html.twig' %}

{% block title %}User Edit {{ user.nom }}{% endblock %}

{% block body %}

<div class = "fixed w-full z-30 flex bg-white dark:bg-[#282B2A] p-2 items-center justify-center h-16 px-10">
    <div class = "logo ml-12 dark:text-white  transform ease-in-out duration-500 flex-none h-full flex items-center justify-center">
        <b>Carbon</b>
    </div>
    <!-- SPACER -->
    <div class = "grow h-full flex items-center justify-center"></div>
    <div class = "flex-none h-full text-center flex items-center justify-center">

        <div class = "flex space-x-3 items-center px-3">
            <div class = "flex-none flex justify-center">
                <div class="w-8 h-8 flex ">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShta_GXR2xdnsxSzj_GTcJHcNykjVKrCBrZ9qouUl0usuJWG2Rpr_PbTDu3sA9auNUH64&usqp=CAU" alt="profile" class="shadow rounded-full object-cover" />
                </div>
            </div>

            <div class = "hidden md:block text-sm md:text-md text-black dark:text-white">{{app.user.nom}}</div>
        </div>

    </div>
</div>
<aside class = "w-60 -translate-x-48 fixed transition transform ease-in-out duration-1000 z-50 flex h-screen bg-[#282B2A] ">
    <!-- open sidebar button -->
    <div class = "max-toolbar translate-x-24 scale-x-0 w-full -right-6 transition transform ease-in duration-300 flex items-center justify-between  dark:border-[#0F172A] bg-[#282B2A]  absolute top-2 rounded-full h-12">

        <div class="flex pl-4 items-center space-x-2 ">
            <div>

            </div >

        </div>
        <div  class = "flex items-center space-x-3 group bg-gradient-to-r dark:from-cyan-500 dark:to-blue-500 from-indigo-500   pl-10 pr-2 py-1 rounded-full text-white  ">

        </div>
    </div>
    <div onclick="openNav()" class = "-right-6 transition transform ease-in-out duration-500 flex border-4 border-white dark:border-[#0F172A] bg-[#282B2A] dark:hover:bg-blue-500  absolute top-2 p-3 rounded-full text-white hover:rotate-45">
        <img src="{{asset('/images/Logo.png')}}" fill="none" viewBox="0 0 24 24" strokeWidth={3} stroke="currentColor" class="w-4 h-4">
        <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
        </img>
    </div>
    <!-- MAX SIDEBAR-->
    <div class= "max hidden text-white mt-20 flex-col space-y-2 w-full h-[calc(100vh)]">
        <div class =  "hover:ml-4 w-full text-white  dark:hover:text-blue-500 bg-[#282B2A] p-2 pl-8 rounded-full transform ease-in-out duration-300 flex flex-row items-center space-x-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" class="w-4 h-4">
                <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
            </svg>
            <div>
                <a href="/"> Home</a>
            </div>
        </div>
        <div class =  "hover:ml-4 w-full text-white dark:hover:text-blue-500 bg-[#282B2A] p-2 pl-8 rounded-full transform ease-in-out duration-300 flex flex-row items-center space-x-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
            </svg>
            <div>
                <a href="{{path('admin_profil')}}">  Mon profil </a>
            </div>
        </div>
        <div class =  "hover:ml-4 w-full text-white dark:hover:text-blue-500 bg-[#282B2A] p-2 pl-8 rounded-full transform ease-in-out duration-300 flex flex-row items-center space-x-3">

            <div>
                <a href="/logout" style="color:#E53F49">Se déconnecter</a>                </div>
        </div>
    </div>
    <!-- MINI SIDEBAR-->
    <div class= "mini mt-20 flex flex-col space-y-2 w-full h-[calc(100vh)]">
        <div class= "hover:ml-4 justify-end pr-5 text-white ark:hover:text-blue-500 w-full bg-[#282B2A] p-3 rounded-full transform ease-in-out duration-300 flex">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" class="w-4 h-4">
                <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
            </svg>
        </div>
        <div class= "hover:ml-4 justify-end pr-5 text-white dark:hover:text-blue-500 w-full bg-[#282B2A] p-3 rounded-full transform ease-in-out duration-300 flex">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
            </svg>
        </div>
        <div class= "hover:ml-4 justify-end pr-5 text-white dark:hover:text-blue-500 w-full bg-[#282B2A] p-3 rounded-full transform ease-in-out duration-300 flex">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z" />
            </svg>
        </div>
    </div>

</aside>

<div class = "content ml-12 transform ease-in-out duration-500 pt-20 px-2 md:px-5 pb-4 " style="background-color: #f9f8fd">

    <div class="p-8 rounded-md w-full" style="border-radius: 20px;" style="background-color: #f9f8fd">
            <div style="border-radius: 20px;width: 1000px;margin: auto;background-color: white">
                {% set ramdonNumber = random(1,17) %}
                <div style="height: 300px;background-color: #5B98D2;border-radius: 20px;display: flex; justify-content: center; align-items: center; text-align: center;background-image:url('{{ asset('images/lol/large/' ~ ramdonNumber ~'.png') }}');background-size: cover;">
                    <h1 style="font-size: 4em;color: white;-webkit-text-stroke: 2px red;">
                        {% if user.roles[0] == "ROLE_ADMIN" %}
                            ADMIN
                        {% elseif user.roles[0] == "ROLE_OPERATIONNEL" %}
                            OPERATIONNEL
                        {% elseif user.roles[0] == "ROLE_CONSULTANT" %}
                            CONSULTANT
                        {% endif %}
                    </h1>
                </div>
                <div style="display: flex;justify-content: space-between;">
                    <div style="position: relative; top: -75px;left: 75px;width: 150px">
                        <img src="https://cdn-icons-png.flaticon.com/512/147/147142.png" width="150px">
                    </div>
                    <div style="display: flex;flex-wrap: wrap;gap: 5px;width: 300px;padding-top: 8px;">
                        {% for softskill in user.softSkills %}
                            <p style="border-radius: 20px;border: 1px solid #5B98D2;padding: 5px" > {{ softskill.nom }} </p>
                        {% endfor %}
                    </div>
                </div>

                <div style="padding: 0 20px 20px 20px">
                    <h1 style="font-weight: bold;font-size: 1.4em;position: relative;top: -40px;">{{ user.nom|capitalize }} {{ user.prenom|capitalize }}</h1>
                </div>
                <h1 style="font-weight: bold;font-size: 1.8em;position: relative;top: -40px;text-align: center;">Modification</h1>

                {{ form_start(form) }}
                <div style="display: flex;justify-content: space-evenly;">


                    <div style="width: 40%">
                        <div class ="form__group field">
                            {{ form_widget(form.roles, { 'attr': {'class': 'form__field', 'id' : 'inputRoles',  'placeholder':'Roles'}})}}
                            {{ form_label(form.roles, 'roles', {'label_attr': {'class': 'form__label', 'for':'inputRoles'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.nom, { 'attr': {'class': 'form__field', 'id' : 'inputNom',  'placeholder':'Nom'}})}}
                            {{ form_label(form.nom, 'Nom', {'label_attr': {'class': 'form__label', 'for':'inputNom'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.prenom, { 'attr': {'class': 'form__field', 'id' : 'inputPrenom',  'placeholder':'Prénom'}})}}
                            {{ form_label(form.prenom, 'Prénom', {'label_attr': {'class': 'form__label', 'for':'inputPrenom'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.dateDeNaissance, { 'attr': {'class': 'form__field', 'id' : 'inputDateDeNaissance',  'placeholder':'Date De Naissance'}})}}
                            {{ form_label(form.dateDeNaissance, 'Date De Naissance', {'label_attr': {'class': 'form__label', 'for':'inputDateDeNaissance'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.adresse, { 'attr': {'class': 'form__field', 'id' : 'inputAdresse',  'placeholder':'Adresse'}})}}
                            {{ form_label(form.adresse, 'Adresse', {'label_attr': {'class': 'form__label', 'for':'inputAdresse'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.tel, { 'attr': {'class': 'form__field', 'id' : 'inputTel',  'placeholder':'Munéro de téléphone'}})}}
                            {{ form_label(form.tel, 'Mobile', {'label_attr': {'class': 'form__label', 'for':'inputTel'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.evalClientDev, { 'attr': {'class': 'form__field', 'id' : 'inputevalClientDev',  'placeholder':'Evaluation Client Dev'}})}}
                            {{ form_label(form.evalClientDev, 'Objectif Mensuel Commercial', {'label_attr': {'class': 'form__label', 'for':'inputevalClientDev'}}) }}
                        </div>
                    </div>
                    <div style="width: 40%">
                        <div class ="form__group field">
                            {{ form_widget(form.description, { 'attr': {'class': 'form__field', 'id' : 'inputDescription',  'placeholder':'Description'}})}}
                            {{ form_label(form.description, 'Description', {'label_attr': {'class': 'form__label', 'for':'inputDescription'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.salaireSouhaite, { 'attr': {'class': 'form__field', 'id' : 'inputSalaireSouhaite',  'placeholder':'Salaire Souhaite'}})}}
                            {{ form_label(form.salaireSouhaite, 'Salaire Souhaite', {'label_attr': {'class': 'form__label', 'for':'inputSalaireSouhaite'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.evalClient, { 'attr': {'class': 'form__field', 'id' : 'inputEvalClient',  'placeholder':'EvalClient'}})}}
                            {{ form_label(form.evalClient, 'EvalClient', {'label_attr': {'class': 'form__label', 'for':'inputEvalClient'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.linkLinkedin, { 'attr': {'class': 'form__field', 'id' : 'inputLinkLinkedin',  'placeholder':'Link Linkedin'}})}}
                            {{ form_label(form.linkLinkedin, 'LinkLinkedin', {'label_attr': {'class': 'form__label', 'for':'inputLinkLinkedin'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.linkSlack, { 'attr': {'class': 'form__field', 'id' : 'inputlinkSlack',  'placeholder':'LinkSlack'}})}}
                            {{ form_label(form.linkSlack, 'LinkSlack', {'label_attr': {'class': 'form__label', 'for':'inputlinkSlack'}}) }}
                        </div>
                        <div class ="form__group field">
                            {{ form_widget(form.objectifMensuelCommercial, { 'attr': {'class': 'form__field', 'id' : 'inputobjectifMensuelCommercial',  'placeholder':'Objectif Mensuel Commercial'}})}}
                            {{ form_label(form.objectifMensuelCommercial, 'Objectif Mensuel Commercial', {'label_attr': {'class': 'form__label', 'for':'inputobjectifMensuelCommercial'}}) }}
                        </div>
                    </div>
                </div>
                <div class="flex items-center justify-center m-8" >
                    <button class="btn cta red-button">{{ button_label|default('Save') }}</button>
                </div>
                {{ form_end(form) }}
            </div>

    </div>
</div>
{% endblock %}
