{% extends 'consultant/consultant.html.twig' %}

{% block title %}users index{% endblock %}
{% block javascripts %}
<script>
              <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
              //make filter if you click on checkbox print the users who have this techno
              $(document).ready(function(){
                $('.techno').click(function(){
                  var checked = $(this).val();
                  console.log(checked);

                })
              })
</script>
{% endblock %}

{% block body %}
<main class="d-flex flex-nowrap">
<br>
<br>
<br>
  <div class="flex flex-col">

            {% for techno in technos %}
                <div>
                    
                  <input type="checkbox" name="techno" value="{{ techno.nom }}" id="{{ techno.id }}" class="techno" place>
                    {{ techno.nom }}
                  </input>
                </div>
                <br>
            {% endfor %}
        </div>
    <div style="width: 80%">
    
        <div>
            <h1>Users</h1>
            <ul class="list-unstyled">

            <table class="table" style="border-spacing: 5px;">
                <thead>
                <tr>
                    <th>Id</th>
                    <th>Nom</th>
                    <th>prenom</th>
                    <th>email</th>
                    <td>softSkills</td>
                    <td>Hardskill</td>
                </tr>
                </thead>
                <tbody>
                {% for user in users %}
                    <tr style="border-spacing: 5px;">
                        <td>{{ user.id }}</td>
                        <td>{{ user.nom }}</td>
                        <td>{{ user.prenom }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.softSkills|length  }}</td>
                        <td>{% for testResult in user.testResults %}
                            {% if testResult.test.hardskill is not null %}
                                {{ testResult.test.hardskill.nom }}
                            {% endif %}
                        {% endfor %}</td>

                        
                {% else %}
                    <tr>
                        <td colspan="4">no records found</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            
        </div>

    </div>
</main>

{% endblock %}